# COVID-19 Vaccine Distribution Analysis

**Author:** Zoli Smith
**Date:** April 2025

------------------------------------------------------------------------

## Overview

This project analyzes Pfizer COVID-19 vaccine allocation data across U.S. jurisdictions using CDC data. It highlights disparities and trends in distribution using descriptive statistics, a summary table, and a stacked bar chart.

This repository includes:

- Summary statistics and jurisdiction-level allocation insights  
- A top-10 jurisdiction **summary table**  
- A stacked **bar chart** comparing first and second dose allocations  
- A reproducible **reporting pipeline** using a `Makefile` and modular R scripts  
------------------------------------------------------------------------

## Repository Structure

```         
COVID_FINAL/
├── data/
│   └── DATASET.csv
├── report/
│   ├── FINAL550-ZOLI-G-S.Rmd
│   ├── FINAL550-ZOLI-G-S--.html
│   ├── tables/
│   │   └── required_table.html
│   └── figures/
│       └── required_figure.png
├── scripts/
│   ├── create_required_table.R
│   └── create_required_figure.R
├── Makefile
├── README.md
                          
```

------------------------------------------------------------------------

## ️ How to Generate the Final Report

Two ways:

### Option 1: Command Line (Recommended)

In the project root directory, run:

``` bash
make
```

This will:

Run both scripts to generate required_table.html and required_figure.png

Knit the .Rmd file into an HTML report at report/FINAL550-ZOLI-G-S--.html

### Option 2: RStudio

1. Open report/FINAL550-ZOLI-G-S.Rmd
2. Click Knit
3. Ensure the working directory is set to the root (COVID_FINAL/)


------------------------------------------------------------------------

## Required Table

-  Output: report/tables/required_table.html
-  Generated by: scripts/create_required_table.R
-  Description: Summarizes the top 10 jurisdictions by total vaccine allocations (1st + 2nd doses)

You can regenerate this table by running:

``` r
source("scripts/create_required_table.R")
```

------------------------------------------------------------------------

## Required Figure

- Output: report/figures/required_figure.png

- Generated by: scripts/create_required_figure.R

- Description: Stacked horizontal bar chart of 1st and 2nd dose allocations in top 10 jurisdictions

You can regenerate this figure by running:

``` r
source("scripts/create_required_figure.R")
```
------------------------------------------------------------------------
## Package Installation (with renv)

This project uses renv for reproducibility. To restore the environment:

``` r
make install
```
------------------------------------------------------------------------

# Dockerized Workflow (Automated)

## Build the Image (optional if using DockerHub)

```bash

docker build -t zolig/covid-vaccine-report .

```
------------------------------------------------------------------------
## Run with Docker (automatically generates figure & table)

```bash

make docker-run

```
This will:

Pull the image zolig/covid-vaccine-report

Mount your local report/ directory into the container

Generate:

    report/figures/required_figure.png
    
    report/tables/required_table.html

------------------------------------------------------------------------
## Windows Git Bash Users

If the docker run command gives a mount error, modify your Makefile path to:

```makefile

-v /$$(pwd)/report:/home/project/report

```
------------------------------------------------------------------------ 
## DockerHub Image

Public Docker Image:

https://hub.docker.com/r/zolig/covid-vaccine-report
------------------------------------------------------------------------

## Notes

- All file paths are relative and OS-compatible

- Project is fully automated via Makefile

- Dockerfile avoids COPY . . and installs only needed packages

- Output files are not included in the repo but generated on demand

------------------------------------------------------------------------
